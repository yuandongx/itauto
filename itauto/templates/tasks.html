
{% extends "base/base.html" %}
{% block main %} 
<!-- MAIN -->
		<div class="main">
			<!-- MAIN CONTENT -->
			<div class="main-content">
				<!-- 按钮：用于打开模态框 -->
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
				  新建任务
				</button>
				<!-- 主机列表 --->
				<table class="table table-striped">
					<thead>
					<tr>
					  <th scope="col">#</th>
					  <th scope="col">任务名称</th>
					  <th scope="col">任务类型</th>
					  <th scope="col">最新状态</th>
					  <th scope="col">更新于</th>
					  <th scope="col">描述信息</th>
					  <th scope="col">操作</th>
					</tr>
					</thead>
					<tbody>
					{% for task in page_obj %}
					<tr>
					  <th scope="row">{{task.task_id}}</th>
					  <td>{{task.task_name}}</td>
					  <td>{{task.task_type}}</td>
					  <td>{{task.latest_status}}</td>
					  <td>{{task.create_time}}</td>
					  <td>{{task.description}}</td>
					  <td>{{task.update_time}}</td>
					  <td>...</td>
					</tr>
					{% endfor %}
					</tbody>
					</table>
					<div class="pagination">
						<span class="step-links">
							{% if page_obj.has_previous %}
								<a href="?page=1">&laquo; first</a>
								<a href="?page={{ page_obj.previous_page_number }}">previous</a>
							{% endif %}

							<span class="current">
								Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
							</span>

							{% if page_obj.has_next %}
								<a href="?page={{ page_obj.next_page_number }}">next</a>
								<a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
							{% endif %}
						</span>
					</div>
				<!-- 主机列表 end--->
				 
				<!-- 模态框 -->
				<form action="" method="post">
				{% csrf_token %}
				<div class="modal fade" id="myModal">
				  <div class="modal-dialog modal-lg">
					<div class="modal-content">
					  <!-- 模态框头部 -->
					  <div class="modal-header">
						<h4 class="modal-title">新建任务</h4>
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					  </div>
				 
					  <!-- 模态框主体 -->
					  <div class="modal-body">
						
						<div id="step-top">steps</div>
						<div id="step-1">step1</div>
						<div id="step-2" style="display: none">step2</div>
						<div id="step-3" style="display: none">step3</div>
						
					  </div>
					  <!-- 模态框底部 -->
					  <div class="modal-footer">
						<button type="button" class="btn btn-secondary" >下一步</button>
						<button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
					  </div>
					</div>
				  </div>
				</div>
				</form>
			</div>
			<!-- END MAIN CONTENT -->
		</div>
		<!-- END MAIN -->

{% endblock %}